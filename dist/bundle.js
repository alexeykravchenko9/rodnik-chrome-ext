!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const a=t=>{let e=window.location.href.split("&").filter(e=>e.indexOf(t)>=0?e:"").toString().split("=");return e[e.length-1]};var o=class{constructor(){}static getDataTab(){let t=[],e=window.location.href.split("&"),n={summ_page:0,savinings:0,allSumm:0,allSavinings:0,startDate:a("startDate"),endDate:a("endDate"),currentPage:e[e.length-1].indexOf("page")>=0?e[e.length-1]:"page=1"},o=document.querySelectorAll(".operations-table thead tr th"),r=document.querySelectorAll(".operations-table tbody tr");Object.keys(o).forEach((e,n)=>t.push(o[n].innerText));const l=t.indexOf("Скидка, грн"),i=t.indexOf("Сумма");Object.keys(r).forEach((t,e)=>{n.summ_page+=Math.round(r[e].children[i].innerText),n.savinings+=Math.round(r[e].children[l].innerText)});let{summ_page:s,savinings:c}=n;n.allSumm+=s,n.allSavinings+=c;let{allSumm:u,allSavinings:g}=n;return console.log(`Сумма - ${s} грн`),console.log(`Скидка - ${c} грн`),console.log(`Общая сумма - ${u} грн`),console.log(`Суммарная скидка - ${g} грн`),console.log(n),n}static printHtml(t){const e=document.createElement("div");e.className="b-rodnikStats-bar",e.innerHTML=`<p>Сумма - ${t.summ_page} грн</p>\n                         <p>Скидка - ${t.savinings} грн</p>\n                         <p>Общая сумма - ${t.allSumm} грн</p>\n                         <p>Суммарная скидка - ${t.allSavinings} грн</p>`;const n=document.querySelector("table.operations-table").parentNode,a=document.querySelector("table.operations-table");n.insertBefore(e,a)}};var r=class{constructor(){}static addToStorage(t,e){const n=JSON.stringify(t);this.localKey=e,localStorage.setItem(this.localKey,n)}static getFromStorage(t){return JSON.parse(localStorage.getItem(t))}};(class{constructor(t){this.name=t}static init(){let t=r.getFromStorage(`rodnik-ext-page=${a("page")}`);null===t?o.getDataTab():(o.printHtml(t),r.addToStorage(data,`rodnik-ext-page=${a("page")}`))}}).init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2hlbHBlcnMvaGVscGVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnZXRQYXJhbVVybFZhbCIsIm5hbWVQYXJhbSIsInRleHQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJzcGxpdCIsImZpbHRlciIsIml0ZW0iLCJpbmRleE9mIiwidG9TdHJpbmciLCJsZW5ndGgiLCJ2aWV3IiwiW29iamVjdCBPYmplY3RdIiwidGl0bGVzIiwicGFnZU51bSIsImRhdGEiLCJzdW1tX3BhZ2UiLCJzYXZpbmluZ3MiLCJhbGxTdW1tIiwiYWxsU2F2aW5pbmdzIiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsImN1cnJlbnRQYWdlIiwidGhIdG1sRWxlbWVudHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0ckh0bWxFbGVtZW50cyIsImtleXMiLCJmb3JFYWNoIiwiaW5kZXgiLCJwdXNoIiwiaW5uZXJUZXh0IiwiaW5kZXhTYXZpbmluZ3MiLCJpbmRleFN1bW0iLCJNYXRoIiwicm91bmQiLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJsb2ciLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiaW5uZXJIVE1MIiwicGFyZW50RG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50Tm9kZSIsInRhYmxlIiwiaW5zZXJ0QmVmb3JlIiwibW9kZWwiLCJrZXkiLCJzZXJpYWxPYmoiLCJKU09OIiwic3RyaW5naWZ5IiwidGhpcyIsImxvY2FsS2V5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInBhcnNlIiwiZ2V0SXRlbSIsImxvY2FsU3RvcmFnZURhdGEiLCJnZXRGcm9tU3RvcmFnZSIsImdldERhdGFUYWIiLCJwcmludEh0bWwiLCJhZGRUb1N0b3JhZ2UiLCJpbml0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3REeEIsRUFBQTJCLEVBQUEsR0FJQTNCLElBQUE0QixFQUFBLHlDQ25FQSxNQUFBQyxFQUFBQyxJQUNBLElBQ0FDLEVBREFDLE9BQUFDLFNBQUFDLEtBQUFDLE1BQUEsS0FBQUMsT0FBQUMsS0FBQUMsUUFBQVIsSUFBQSxFQUFBTyxFQUFBLElBQ0FFLFdBQUFKLE1BQUEsS0FFQSxPQUFBSixJQUFBUyxPQUFBLElDOEVBLElBQUFDLFFBL0VBQyxlQUlBQSxvQkFFQSxJQUFBQyxLQUVBQyxFQUFBWixPQUFBQyxTQUFBQyxLQUFBQyxNQUFBLEtBRUFVLEdBQ0FDLFVBQUEsRUFDQUMsVUFBQSxFQUNBQyxRQUFBLEVBQ0FDLGFBQUEsRUFDQUMsVUFBQXJCLEVBQUEsYUFDQXNCLFFBQUF0QixFQUFBLFdBQ0F1QixZQUFBUixJQUFBSixPQUFBLEdBQUFGLFFBQUEsV0FBQU0sSUFBQUosT0FBQSxhQU1BYSxFQUFBQyxTQUFBQyxpQkFBQSxpQ0FDQUMsRUFBQUYsU0FBQUMsaUJBQUEsOEJBRUF6QyxPQUFBMkMsS0FBQUosR0FBQUssUUFBQSxDQUFBckIsRUFBQXNCLElBQUFoQixFQUFBaUIsS0FBQVAsRUFBQU0sR0FBQUUsWUFFQSxNQUFBQyxFQUFBbkIsRUFBQUwsUUFBQSxlQUNBeUIsRUFBQXBCLEVBQUFMLFFBQUEsU0FHQXhCLE9BQUEyQyxLQUFBRCxHQUFBRSxRQUFBLENBQUFyQixFQUFBc0IsS0FFQWQsRUFBQUMsV0FBQWtCLEtBQUFDLE1BQUFULEVBQUFHLEdBQUFPLFNBQUFILEdBQUFGLFdBQ0FoQixFQUFBRSxXQUFBaUIsS0FBQUMsTUFBQVQsRUFBQUcsR0FBQU8sU0FBQUosR0FBQUQsYUFJQSxJQUFBZixVQUFhQSxFQUFBQyxhQUF1QkYsRUFFcENBLEVBQUFHLFNBQUFGLEVBQ0FELEVBQUFJLGNBQUFGLEVBRUEsSUFBQUMsUUFBYUEsRUFBQUMsZ0JBQXdCSixFQVNyQyxPQVBBc0IsUUFBQUMsZUFBK0J0QixTQUMvQnFCLFFBQUFDLGdCQUFnQ3JCLFNBQ2hDb0IsUUFBQUMscUJBQXFDcEIsU0FDckNtQixRQUFBQywwQkFBMENuQixTQUMxQ2tCLFFBQUFDLElBQUF2QixHQUdBQSxFQU9BSCxpQkFBQUcsR0FFQSxNQUFBd0IsRUFBQWYsU0FBQWdCLGNBQUEsT0FDQUQsRUFBQUUsVUFBQSxvQkFDQUYsRUFBQUcsd0JBQXNDM0IsRUFBQUMsMkRBQ0NELEVBQUFFLGdFQUNLRixFQUFBRyxtRUFDS0gsRUFBQUksdUJBRWpELE1BQUF3QixFQUFBbkIsU0FBQW9CLGNBQUEsMEJBQUFDLFdBQ0FDLEVBQUF0QixTQUFBb0IsY0FBQSwwQkFFQUQsRUFBQUksYUFBQVIsRUFBQU8sS0N6REEsSUFBQUUsUUFqQkFwQyxlQUlBQSxvQkFBQUcsRUFBQWtDLEdBQ0EsTUFBQUMsRUFBQUMsS0FBQUMsVUFBQXJDLEdBQ0FzQyxLQUFBQyxTQUFBTCxFQUNBTSxhQUFBQyxRQUFBSCxLQUFBQyxTQUFBSixHQUdBdEMsc0JBQUFxQyxHQUdBLE9BREFFLEtBQUFNLE1BQUFGLGFBQUFHLFFBQUFULGFDUEFyQyxZQUFBL0IsR0FDQXdFLEtBQUF4RSxPQUlBK0IsY0FHQSxJQUFBK0MsRUFBQVgsRUFBQVksa0NBQXVFN0QsRUFBQSxXQUV2RSxPQUFBNEQsRUFDQWhELEVBQUFrRCxjQUVBbEQsRUFBQW1ELFVBQUFILEdBQ0FYLEVBQUFlLGFBQUFoRCx3QkFBd0RoQixFQUFBLGVDaEJ4RGlFIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJleHBvcnQgY29uc3QgZ2V0UGFyYW1VcmxWYWwgPSAobmFtZVBhcmFtKSA9PiB7XG4gICAgbGV0IHBhcmFtQXJyID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyYnKS5maWx0ZXIoIChpdGVtKSA9PiAoaXRlbS5pbmRleE9mKG5hbWVQYXJhbSkgPj0gMCkgPyBpdGVtIDogJycgKTtcbiAgICBsZXQgdGV4dCA9IHBhcmFtQXJyLnRvU3RyaW5nKCkuc3BsaXQoJz0nKTtcblxuICAgIHJldHVybiB0ZXh0W3RleHQubGVuZ3RoIC0gMV07XG59O1xuXG4iLCJpbXBvcnQgeyBnZXRQYXJhbVVybFZhbCB9IGZyb20gJy4vaGVscGVycy9oZWxwZXJzJztcblxuY2xhc3MgVmlldyB7XG4gICAgY29uc3RydWN0b3IoKXtcblxuICAgIH1cblxuICAgIHN0YXRpYyBnZXREYXRhVGFiKCl7XG5cbiAgICAgICAgbGV0IHRpdGxlcyA9IFtdO1xuXG4gICAgICAgIGxldCBwYWdlTnVtID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyYnKTtcbiAgXG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgc3VtbV9wYWdlOiAwLFxuICAgICAgICAgICAgc2F2aW5pbmdzOiAwLFxuICAgICAgICAgICAgYWxsU3VtbTogMCxcbiAgICAgICAgICAgIGFsbFNhdmluaW5nczogMCxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogZ2V0UGFyYW1VcmxWYWwoJ3N0YXJ0RGF0ZScpLFxuICAgICAgICAgICAgZW5kRGF0ZTogZ2V0UGFyYW1VcmxWYWwoJ2VuZERhdGUnKSxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAocGFnZU51bVtwYWdlTnVtLmxlbmd0aCAtIDFdLmluZGV4T2YoJ3BhZ2UnKSA+PSAwICkgPyBwYWdlTnVtW3BhZ2VOdW0ubGVuZ3RoIC0gMV0gOiAncGFnZT0xJ1xuICAgICAgICB9O1xuXG5cblxuXG4gICAgICAgIGxldCB0aEh0bWxFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcGVyYXRpb25zLXRhYmxlIHRoZWFkIHRyIHRoJyk7XG4gICAgICAgIGxldCB0ckh0bWxFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcGVyYXRpb25zLXRhYmxlIHRib2R5IHRyJyk7XG5cbiAgICAgICAgT2JqZWN0LmtleXModGhIdG1sRWxlbWVudHMpLmZvckVhY2goIChpdGVtLCBpbmRleCkgPT4gdGl0bGVzLnB1c2godGhIdG1sRWxlbWVudHNbaW5kZXhdLmlubmVyVGV4dCkgKTtcblxuICAgICAgICBjb25zdCBpbmRleFNhdmluaW5ncyA9IHRpdGxlcy5pbmRleE9mKCfQodC60LjQtNC60LAsINCz0YDQvScpO1xuICAgICAgICBjb25zdCBpbmRleFN1bW0gPSB0aXRsZXMuaW5kZXhPZign0KHRg9C80LzQsCcpO1xuXG5cbiAgICAgICAgT2JqZWN0LmtleXModHJIdG1sRWxlbWVudHMpLmZvckVhY2goIChpdGVtLCBpbmRleCkgPT4ge1xuXG4gICAgICAgICAgICBkYXRhLnN1bW1fcGFnZSArPSBNYXRoLnJvdW5kKHRySHRtbEVsZW1lbnRzW2luZGV4XS5jaGlsZHJlbltpbmRleFN1bW1dLmlubmVyVGV4dCk7XG4gICAgICAgICAgICBkYXRhLnNhdmluaW5ncyArPSBNYXRoLnJvdW5kKHRySHRtbEVsZW1lbnRzW2luZGV4XS5jaGlsZHJlbltpbmRleFNhdmluaW5nc10uaW5uZXJUZXh0KTtcblxuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgeyBzdW1tX3BhZ2UsIHNhdmluaW5ncyB9ID0gZGF0YTtcblxuICAgICAgICBkYXRhLmFsbFN1bW0gKz0gc3VtbV9wYWdlO1xuICAgICAgICBkYXRhLmFsbFNhdmluaW5ncyArPSBzYXZpbmluZ3M7XG5cbiAgICAgICAgbGV0IHsgYWxsU3VtbSwgYWxsU2F2aW5pbmdzIH0gPSBkYXRhO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGDQodGD0LzQvNCwIC0gJHtzdW1tX3BhZ2V9INCz0YDQvWApO1xuICAgICAgICBjb25zb2xlLmxvZyhg0KHQutC40LTQutCwIC0gJHtzYXZpbmluZ3N9INCz0YDQvWApO1xuICAgICAgICBjb25zb2xlLmxvZyhg0J7QsdGJ0LDRjyDRgdGD0LzQvNCwIC0gJHthbGxTdW1tfSDQs9GA0L1gKTtcbiAgICAgICAgY29uc29sZS5sb2coYNCh0YPQvNC80LDRgNC90LDRjyDRgdC60LjQtNC60LAgLSAke2FsbFNhdmluaW5nc30g0LPRgNC9YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuXG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG5cblxuICAgIH1cblxuXG5cbiAgICBzdGF0aWMgcHJpbnRIdG1sKGRhdGEpe1xuXG4gICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ2Itcm9kbmlrU3RhdHMtYmFyJztcbiAgICAgICAgZGl2LmlubmVySFRNTCA9IGA8cD7QodGD0LzQvNCwIC0gJHtkYXRhLnN1bW1fcGFnZX0g0LPRgNC9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtCh0LrQuNC00LrQsCAtICR7ZGF0YS5zYXZpbmluZ3N9INCz0YDQvTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8cD7QntCx0YnQsNGPINGB0YPQvNC80LAgLSAke2RhdGEuYWxsU3VtbX0g0LPRgNC9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDxwPtCh0YPQvNC80LDRgNC90LDRjyDRgdC60LjQtNC60LAgLSAke2RhdGEuYWxsU2F2aW5pbmdzfSDQs9GA0L08L3A+YDtcblxuICAgICAgICBjb25zdCBwYXJlbnREb2N1bWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RhYmxlLm9wZXJhdGlvbnMtdGFibGUnKS5wYXJlbnROb2RlO1xuICAgICAgICBjb25zdCB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RhYmxlLm9wZXJhdGlvbnMtdGFibGUnKTtcblxuICAgICAgICBwYXJlbnREb2N1bWVudC5pbnNlcnRCZWZvcmUoZGl2LCB0YWJsZSk7XG5cbiAgICB9XG5cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIiwiY2xhc3MgTW9kZWx7XG4gICAgY29uc3RydWN0b3IoKXtcblxuICAgIH1cblxuICAgIHN0YXRpYyBhZGRUb1N0b3JhZ2UoZGF0YSwga2V5KXtcbiAgICAgICAgY29uc3Qgc2VyaWFsT2JqID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIHRoaXMubG9jYWxLZXkgPSBrZXk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubG9jYWxLZXksIHNlcmlhbE9iaik7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEZyb21TdG9yYWdlKGtleSl7XG5cbiAgICAgICAgY29uc3QgZ2V0RGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgICAgIHJldHVybiBnZXREYXRhO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTW9kZWw7IiwiaW1wb3J0IFZpZXcgZnJvbSAnLi92aWV3JztcbmltcG9ydCBNb2RlbCBmcm9tICcuL21vZGVsJztcbmltcG9ydCB7IGdldFBhcmFtVXJsVmFsIH0gZnJvbSAnLi9oZWxwZXJzL2hlbHBlcnMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpe1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgfVxuXG4gICAgc3RhdGljIGluaXQoKXtcblxuXG4gICAgICAgIGxldCBsb2NhbFN0b3JhZ2VEYXRhID0gTW9kZWwuZ2V0RnJvbVN0b3JhZ2UoYHJvZG5pay1leHQtcGFnZT0ke2dldFBhcmFtVXJsVmFsKCdwYWdlJyl9YCk7XG5cbiAgICAgICAgaWYobG9jYWxTdG9yYWdlRGF0YSA9PT0gbnVsbCl7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IFZpZXcuZ2V0RGF0YVRhYigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVmlldy5wcmludEh0bWwobG9jYWxTdG9yYWdlRGF0YSk7XG4gICAgICAgICAgICBNb2RlbC5hZGRUb1N0b3JhZ2UoZGF0YSwgYHJvZG5pay1leHQtcGFnZT0ke2dldFBhcmFtVXJsVmFsKCdwYWdlJyl9YCk7XG4gICAgICAgIH1cblxuXG5cblxuXG5cblxuICAgIH1cblxufVxuIiwiaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcblxuLy8gbGV0IGNvbnRyID0gbmV3IENvbnRyb2xsZXIoJ1Rlc3QgY2xhc3MnKTtcblxuQ29udHJvbGxlci5pbml0KCk7XG5cbi8vIGNvbnNvbGUubG9nKGBUZXN0IGNvbmZpZyAkezErMn1gKTtcblxuLy9cbi8vIChmdW5jdGlvbigpe1xuLy9cbi8vXG4vLyAgICAgLy9cbi8vICAgICAvLyBjaHJvbWUudGFicy5xdWVyeSh7IGFjdGl2ZTogdHJ1ZSwgY3VycmVudFdpbmRvdzogdHJ1ZSB9LCAodGFicykgPT4ge1xuLy8gICAgIC8vICAgICBsZXQgdGFiID0gdGFic1swXVxuLy8gICAgIC8vICAgICBjb25zb2xlLmxvZyh0YWIpO1xuLy8gICAgIC8vXG4vLyAgICAgLy8gfSk7XG4vL1xuLy9cbi8vICAgICAvLyBjaHJvbWUudGFicy5leGVjdXRlU2NyaXB0KG51bGwsIHtmaWxlOiBcIi4vZGlzdC9qcy9lbmdpbmUuanNcIn0pO1xuLy9cbi8vICAgICAvL1xuLy8gICAgIC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4vLyAgICAgLy9cbi8vICAgICAvLyB9KTtcbi8vXG4vL1xuLy9cbi8vIH0pKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9